# HTTP Calculator Server

`GET /calc?query=2+10 HTTP/1.1`に対して、計算結果を返す HTTP Server

## 前提

- 計算は2つの自然数の加減乗除にのみに対応し、結果が少数になる場合は対応しない
- サーバーは1リクエストごとに終了する
- ポート番号は 1024～49151 の範囲で指定する


## ファイル構成

### ヘッダーファイル
- `http_server.h` - 共通のヘッダーファイル（構造体、関数プロトタイプ、定数定義）

### サーバー側ソースファイル
- `server_main.c` - サーバーのメイン関数
- `utils.c` - ユーティリティ関数（ログ、メモリ管理）
- `request.c` - HTTPリクエストの解析と管理
- `response.c` - HTTPレスポンスの生成
- `calculator.c` - 計算機能の実装
- `handler.c` - リクエストハンドラ
- `network.c` - ネットワーク処理（ソケット管理）

### クライアント側ソースファイル
- `client_main.c` - クライアントのメイン関数


## ビルド方法

### サーバーのみをビルド

```bash
make server
```

### クライアントのみをビルド

```bash
make client
```

## 使用方法

### サーバー起動

```bash
./http_server 8080
```

## TODO
### 必須

- [*] clientからの接続を受け入れるserverを作成する
- [*] serverに接続できるclientを作成する
- [*] serverから文字列を送信して、clientが文字列を受け取れるようにする
- [*] clientがserverから受け取った文字列をserverに返せるようにする
- [*] 文字列"1+1"のような2つの文字の四則演算の結果を返すcalculatorを作成する
- [*] "+-/*()"に対応して、基本的な四則演算の結果を返せるようにする
- [*] serverがHTTPリクエスト情報をパースできるようにする
- [*] 計算結果をHTTPレスポンスで返却する


### 任意

- [ ] IPv4+v6 両対応
- [ ] non-blocking 化
- [ ] マルチスレッド化
- [ ] 通信タイムアウトの設定
- [ ] signal を受け取ったら、全コネクションが正常終了して終了
- [ ] SSL化
